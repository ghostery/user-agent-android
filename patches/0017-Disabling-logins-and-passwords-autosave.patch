From 065f0dfa02ae46ee2d1a83dd11d833c33721478b Mon Sep 17 00:00:00 2001
From: Sam Macbeth <sam@cliqz.com>
Date: Mon, 3 Aug 2020 18:29:03 +0200
Subject: Disabling logins and passwords autosave

---
 .../main/java/org/mozilla/fenix/utils/Settings.kt | 15 +++------------
 app/src/main/res/xml/preferences.xml              | 10 ----------
 2 files changed, 3 insertions(+), 22 deletions(-)

diff --git a/app/src/main/java/org/mozilla/fenix/utils/Settings.kt b/app/src/main/java/org/mozilla/fenix/utils/Settings.kt
index 8eced4d43..1fa439bdd 100644
--- a/app/src/main/java/org/mozilla/fenix/utils/Settings.kt
+++ b/app/src/main/java/org/mozilla/fenix/utils/Settings.kt
@@ -1016,15 +1016,9 @@ class Settings(private val appContext: Context) : PreferencesHolder {
         default = true
     )
 
-    var shouldPromptToSaveLogins by booleanPreference(
-        appContext.getPreferenceKey(R.string.pref_key_save_logins),
-        default = true
-    )
+    var shouldPromptToSaveLogins = false
 
-    var shouldAutofillLogins by booleanPreference(
-        appContext.getPreferenceKey(R.string.pref_key_autofill_logins),
-        default = true
-    )
+    var shouldAutofillLogins = false
 
     var fxaHasSyncedItems by booleanPreference(
         appContext.getPreferenceKey(R.string.pref_key_fxa_has_synced_items),
@@ -1272,10 +1266,7 @@ class Settings(private val appContext: Context) : PreferencesHolder {
      * If set to `true` when the user focuses on credit card fields in the webpage an Android prompt letting her
      * select the card details to be automatically filled will appear.
      */
-    var shouldAutofillCreditCardDetails by booleanPreference(
-        appContext.getPreferenceKey(R.string.pref_key_credit_cards_save_and_autofill_cards),
-        default = true
-    )
+    var shouldAutofillCreditCardDetails = false
 
     var showPocketRecommendationsFeature by lazyFeatureFlagPreference(
         appContext.getPreferenceKey(R.string.pref_key_pocket_homescreen_recommendations),
diff --git a/app/src/main/res/xml/preferences.xml b/app/src/main/res/xml/preferences.xml
index 86e99ce13..09eec7f7d 100644
--- a/app/src/main/res/xml/preferences.xml
+++ b/app/src/main/res/xml/preferences.xml
@@ -70,16 +70,6 @@
             app:iconSpaceReserved="false"
             android:title="@string/preferences_customize" />
 
-        <androidx.preference.Preference
-            android:key="@string/pref_key_passwords"
-            app:iconSpaceReserved="false"
-            android:title="@string/preferences_passwords_logins_and_passwords" />
-
-        <androidx.preference.Preference
-            app:iconSpaceReserved="false"
-            android:key="@string/pref_key_credit_cards"
-            android:title="@string/preferences_credit_cards" />
-
         <androidx.preference.Preference
             android:key="@string/pref_key_accessibility"
             app:iconSpaceReserved="false"
-- 
2.35.1

