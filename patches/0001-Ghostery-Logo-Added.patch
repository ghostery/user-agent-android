From 358f91091080cd7094001891fc135a81e715ef63 Mon Sep 17 00:00:00 2001
From: Sam Macbeth <sam@cliqz.com>
Date: Mon, 24 Aug 2020 16:19:12 +0200
Subject: Ghostery Logo Added

---
 app/build.gradle                              | 23 ++++++++++-
 .../res/drawable/ic_launcher_foreground.xml   | 32 +++++----------
 .../ic_launcher_private_foreground.xml        | 39 +++++++++++++++++++
 app/src/main/res/layout/fragment_home.xml     | 10 ++---
 .../res/mipmap-anydpi-v26/ic_launcher.xml     |  5 +--
 .../mipmap-anydpi-v26/ic_launcher_private.xml |  8 +---
 .../ic_launcher_private_round.xml             |  8 +---
 .../mipmap-anydpi-v26/ic_launcher_round.xml   |  5 +--
 app/src/main/res/values-night/colors.xml      |  2 +-
 app/src/main/res/values/colors.xml            |  5 ++-
 10 files changed, 86 insertions(+), 51 deletions(-)
 create mode 100644 app/src/main/res/drawable/ic_launcher_private_foreground.xml

diff --git a/app/build.gradle b/app/build.gradle
index ba6c4155c..f9e5abb06 100644
--- a/app/build.gradle
+++ b/app/build.gradle
@@ -34,7 +34,7 @@ android {
     }
 
     defaultConfig {
-        applicationId "org.mozilla"
+        applicationId "com.ghostery.android"
         minSdkVersion Config.minSdkVersion
         targetSdkVersion Config.targetSdkVersion
         versionCode 1
@@ -147,6 +147,23 @@ android {
                     "deepLinkScheme": deepLinkSchemeValue
             ]
         }
+        ghostery releaseTemplate >> {
+            buildConfigField "boolean", "USE_RELEASE_VERSIONING", "true"
+            applicationIdSuffix ".ghostery"
+            def deepLinkSchemeValue = "ghostery"
+            buildConfigField "String", "DEEP_LINK_SCHEME", "\"$deepLinkSchemeValue\""
+            manifestPlaceholders = [
+                    // This release type is meant to replace Firefox (Release channel) and therefore needs to inherit
+                    // its sharedUserId for all eternity. See:
+                    // https://searchfox.org/mozilla-central/search?q=moz_android_shared_id&case=false&regexp=false&path=
+                    // Shipping an app update without sharedUserId can have
+                    // fatal consequences. For example see:
+                    //  - https://issuetracker.google.com/issues/36924841
+                    //  - https://issuetracker.google.com/issues/36905922
+                    "sharedUserId": "com.ghostery.android.ghostery.sharedID",
+                    "deepLinkScheme": deepLinkSchemeValue
+            ]
+        }
     }
 
     buildFeatures {
@@ -185,6 +202,10 @@ android {
             java.srcDirs = ['src/migration/java']
             manifest.srcFile "src/migration/AndroidManifest.xml"
         }
+        ghostery {
+            java.srcDirs = ['src/migration/java']
+            manifest.srcFile "src/migration/AndroidManifest.xml"
+        }
     }
 
     splits {
diff --git a/app/src/main/res/drawable/ic_launcher_foreground.xml b/app/src/main/res/drawable/ic_launcher_foreground.xml
index 8c5623c66..9dbbd159f 100644
--- a/app/src/main/res/drawable/ic_launcher_foreground.xml
+++ b/app/src/main/res/drawable/ic_launcher_foreground.xml
@@ -1,27 +1,15 @@
-<!-- This Source Code Form is subject to the terms of the Mozilla Public
-   - License, v. 2.0. If a copy of the MPL was not distributed with this
-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
 <vector xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:aapt="http://schemas.android.com/aapt"
     android:width="108dp"
     android:height="108dp"
-    android:viewportWidth="108"
-    android:viewportHeight="108">
+    android:viewportWidth="9.283626"
+    android:viewportHeight="9.283627">
+  <group android:translateX="1.9959794"
+      android:translateY="1.9959797">
     <path
-        android:pathData="M78 44.4c-1.2-2.7-3.8-6-5.7-6.8-0.5-0.2-1.2 00.5-1 1-2.8-3.3-6-6.3-8-10.2l-0.6-1.3c-0.3-0.5-1-0.6-1.7-0a20 20 0 0 0-8.6 13.6c-0.5 0-3.3 0.3-3 1.8 0.7 1.3 1.8 0 3.2 0 4.4-0.3 7 0.7 9.4 3-1.6-0.3-4-0.6-4 0.9 0 0.5 1.3 1 1.8 1.5a9 9 0 0 1 3.5 9.3 9.2 9.2 0 0 1-10 7.6c-8.7-0.5-9.7-8.3-9.7-8.3 1.3-3 5.6-3.6 6.6-3.5 1.4 0 1.8-0.3 2.8-1 2-1.6 2.5-3 1.2-3.5-1-0.5-3-1.4-4.3-2.4-3-2-2.4-2.4-3.6-3-0.3-1.6-0.4-2.3-0.2-4 0-1 0.5-1.8 0-2-0.6-0.5-0.7-0.3-1.2-0-2.3 0.8-4.3 3-5 3.7a17 17 0 0 1-0.4-4c0.2-1.3-0.5-2-1.8-1a22.7 22.7 0 0 0-9.6 19.5 26 26 0 1 0 50-10.5zm-18.8-3c-1.6-0.5-3.3-1-5-1 0.2-2.8 2.6-7.6 4.4-9.2-0.7 2-1.3 7 0.6 10.2zm0.5-5.5c0-3.6 0.7-5 1.5-6.7a29.7 29.7 0 0 0 2.5 3.6c3.7 4.4 8 8 10 13.3 1 2.3-0 8.4-4 12a13 13 0 0 0-1.3-8c-0.8-1-1.5-2.3-2.6-3-2.2-3.5-2.4-2.7-4-4.8a11.2 11.2 0 0 1-2.2-6.6zm1.6 28c5-4 5.4-12 0.7-16.6 7.8 2.6 6.2 12 5.2 13.3-1 1.3-3.8 2.4-6 3.4zm-9.8-13.5c0 1.2-1.8 0.3-5 1.2-3 0.8-4.2 3.3-4.2 3.3 0-0.8 0.2-2.4-0.3-2.8-0.3-0.4-1-0.2-1.7-0.4a5.4 5.4 0 0 1-3.6-2.3c2.8-1.5 5.7-1 8.5 0.4 1.8 1 4.3 0.5 6.3 0.6zm-7.3-11.3s-0.2 1.3 0 2.7c0 0-1.6-0.5-2.7-0.5 1-1 2.7-2.2 2.7-2.2zM30 54.5c-1-5.4 2.4-13 7.6-17 0 2 0 4.3 1.3 5.4 0.3 0.2 1 0 1.8 0 1.4 0 3 0.4 4.2 1.2 1.7 1.2 2.2 2.8 6.5 4.7 0 0-4 0-5.2-0.3-2-0.6-3.3-1.7-7.3-1.5-1.7 0-4.8 1.4-4.5 2.3 0.7 2.6 3.6 4.3 6 4.5-0.8 7 7.3 13.4 14.5 13.2a21 21 0 0 0 20.2-14.3c0.3 4.8-1 10-4 13.6C66 73 58 75.2 49.3 73.7a24 24 0 0 1-19.2-19.2zm48 2.8a24.3 24.3 0 0 1-45.8 7.4c5.4 7.2 12 10.8 20.6 11 11.5 0.6 20.8-6 23.5-16.8 1.5-6-0-11.3-1.6-16.7a22.7 22.7 0 0 1 3.3 15z">
-        <aapt:attr name="android:fillColor">
-            <gradient
-                android:startY="25.09"
-                android:startX="78.92"
-                android:endY="74.45"
-                android:endX="37.26"
-                android:type="linear">
-                <item android:offset="0.09" android:color="#FF980E"/>
-                <item android:offset="0.18" android:color="#FF8B16"/>
-                <item android:offset="0.36" android:color="#FF672A"/>
-                <item android:offset="0.56" android:color="#FF3647"/>
-                <item android:offset="0.94" android:color="#E31587"/>
-            </gradient>
-        </aapt:attr>
-    </path>
+        android:pathData="m4.39319,4.04453c0.22683,0.52146 0.03911,0.45919 -0.12906,0.41638 -0.16817,-0.0428 -0.54361,-0.21014 -0.66094,-0.00389 -0.11733,0.20624 -0.2151,0.38525 -0.48887,0.2685 -0.27376,-0.11674 -0.40282,-0.15566 -0.44193,-0.15566l-0.05312,0c-0.03911,0 -0.16817,0.03891 -0.44193,0.15566 -0.27376,0.11674 -0.37154,-0.06226 -0.48887,-0.2685 -0.11732,-0.20625 -0.49277,-0.03891 -0.66094,0.00389 -0.16817,0.04281 -0.35589,0.10507 -0.12905,-0.41638 0.16875,-0.38794 0.20324,-0.71953 0.20987,-0.86408L1.10836,2.05868C1.10836,1.21395 1.79657,0.52917 2.64553,0.52917 3.49448,0.52917 4.18269,1.21395 4.18269,2.05868l0,1.10576c0.00473,0.13437 0.0349,0.47644 0.21049,0.8801zM2.64553,3.25012c0.36483,0 0.67193,-0.35732 0.76455,-0.75488 -0.17879,0.24464 -0.4547,0.40171 -0.76455,0.40171 -0.30984,0 -0.58576,-0.15707 -0.76454,-0.40171 0.0926,0.39757 0.39971,0.75488 0.76454,0.75488zM3.14122,2.29675c0.19032,0 0.3446,-0.24637 0.3446,-0.55028 0,-0.30392 -0.15428,-0.55029 -0.3446,-0.55029 -0.19032,0 -0.34461,0.24637 -0.34461,0.55029 0,0.30391 0.15429,0.55028 0.34461,0.55028zM2.17061,1.19618c-0.19031,0 -0.34459,0.24637 -0.34459,0.55029 0,0.30391 0.15428,0.55028 0.34459,0.55028 0.19032,0 0.34461,-0.24637 0.34461,-0.55028 0,-0.30392 -0.15429,-0.55029 -0.34461,-0.55029z"
+        android:strokeWidth="1"
+        android:fillColor="#ffffff"
+        android:strokeColor="#00000000"
+        android:fillType="evenOdd"/>
+  </group>
 </vector>
diff --git a/app/src/main/res/drawable/ic_launcher_private_foreground.xml b/app/src/main/res/drawable/ic_launcher_private_foreground.xml
new file mode 100644
index 000000000..85b0f1a86
--- /dev/null
+++ b/app/src/main/res/drawable/ic_launcher_private_foreground.xml
@@ -0,0 +1,39 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="108dp"
+    android:height="108dp"
+    android:viewportWidth="9.283626"
+    android:viewportHeight="9.283626">
+  <group android:translateX="1.9959794"
+      android:translateY="1.9959794">
+    <path
+        android:pathData="M1.11296,2.71244C0.82415,2.34607 1.00287,2.10021 1.00287,2.10021 0.85073,1.94514 0.98406,1.7562 0.98406,1.7562c0.07303,-0.09725 0.14984,-0.16795 0.2239,-0.21936 0.21679,-0.58321 0.7807,-0.99895 1.4422,-0.99895 0.69966,0 1.29015,0.4651 1.47621,1.10152 0.14796,0.06454 0.09789,0.21128 0.05507,0.2928 0.00275,0.03123 0.00455,0.06274 0.00539,0.09448 0.26269,0.27274 0.00156,0.68933 0.00156,0.68933 0,0 -0.00034,-0.00027 -0.00103,-0.00081l0,0.45794c0.00473,0.13437 0.0349,0.47644 0.2105,0.8801 0.22684,0.52146 0.03911,0.45919 -0.12906,0.41638 -0.16817,-0.0428 -0.54362,-0.21014 -0.66095,-0.00389 -0.11733,0.20624 -0.21511,0.38525 -0.48888,0.2685 -0.27377,-0.11674 -0.40283,-0.15566 -0.44194,-0.15566l-0.05312,0c-0.03911,0 -0.16817,0.03891 -0.44194,0.15566 -0.27377,0.11674 -0.37155,-0.06226 -0.48888,-0.26851C1.57577,4.25951 1.20031,4.42685 1.03214,4.46965 0.86397,4.51246 0.67624,4.57472 0.90308,4.05326 1.07184,3.66533 1.10633,3.33373 1.11296,3.18918ZM2.65016,3.25885c0.36484,0 0.67195,-0.35732 0.76456,-0.75488 -0.17879,0.24464 -0.45471,0.40171 -0.76456,0.40171 -0.30985,0 -0.58577,-0.15707 -0.76455,-0.40171 0.09261,0.39757 0.39972,0.75488 0.76455,0.75488zM4.03227,1.64393c-0.18293,-0.06381 -0.3129,-0.08995 -0.35262,-0.09712 -0.0278,-0.28248 -0.25382,-0.50274 -0.52856,-0.50274 -0.19632,0 -0.36766,0.11255 -0.45968,0.27982l-0.09743,0c-0.09149,-0.16946 -0.26398,-0.2838 -0.46185,-0.2838 -0.23907,0 -0.44123,0.16678 -0.50803,0.39621 -0.1058,0.00897 -0.34311,0.05775 -0.5487,0.318 0,0 -0.12607,0.16982 0.01778,0.30919 0,0 -0.22492,0.21447 0.05195,0.54554 0.06138,0.0937 0.38213,-0.2867 1.4785,-0.2867 1.09637,0 1.53843,0.29467 1.53843,0.29467 0,0 0.21352,-0.41022 -0.09656,-0.65301 0,0 0.18827,-0.24279 -0.03323,-0.32004z"
+        android:strokeWidth="0.745991"
+        android:fillColor="#ffffff"
+        android:strokeColor="#00000000"
+        android:fillType="evenOdd"/>
+    <path
+        android:pathData="m3.11938,2.24798c-0.17995,0 -0.32584,-0.22144 -0.32584,-0.49459 0,-0.27316 0.14588,-0.4946 0.32584,-0.4946 0.17995,0 0.32583,0.22144 0.32583,0.4946 0,0.27315 -0.14588,0.49459 -0.32583,0.49459"
+        android:strokeWidth="0.745991"
+        android:fillColor="#ffffff"
+        android:strokeColor="#00000000"
+        android:fillType="evenOdd"/>
+    <path
+        android:pathData="m2.20165,1.25879c0.17995,0 0.32584,0.22144 0.32584,0.4946 0,0.27315 -0.14588,0.49459 -0.32584,0.49459 -0.17994,0 -0.32582,-0.22144 -0.32582,-0.49459 0,-0.27316 0.14588,-0.4946 0.32582,-0.4946"
+        android:strokeWidth="0.745991"
+        android:fillColor="#ffffff"
+        android:strokeColor="#00000000"
+        android:fillType="evenOdd"/>
+    <path
+        android:pathData="m4.20155,2.08619c0,0 0.13248,-0.02977 0.21299,0.15492 0.08051,0.1847 0.08051,0.45371 0.32607,0.54605 0.24556,0.09235 -0.11674,-0.06826 -0.09259,-0.51393 0.02415,-0.44567 -0.53076,-0.32752 -0.53076,-0.32752z"
+        android:strokeWidth="0.370176"
+        android:fillColor="#ffffff"
+        android:strokeColor="#00000000"
+        android:fillType="evenOdd"/>
+    <path
+        android:pathData="m4.21326,2.00021c0,0 0.3301,-0.21682 0.5193,0.02007 0.1892,0.23689 0.36633,0.11644 0.36633,0.11644 0,0 -0.21738,0.01205 -0.28582,-0.22886 -0.06843,-0.24091 -0.45489,-0.37742 -0.68837,0.01606z"
+        android:strokeWidth="0.370176"
+        android:fillColor="#ffffff"
+        android:strokeColor="#00000000"
+        android:fillType="evenOdd"/>
+  </group>
+</vector>
diff --git a/app/src/main/res/layout/fragment_home.xml b/app/src/main/res/layout/fragment_home.xml
index ea60d2cd3..608271aff 100644
--- a/app/src/main/res/layout/fragment_home.xml
+++ b/app/src/main/res/layout/fragment_home.xml
@@ -32,14 +32,14 @@
                 android:id="@+id/privateBrowsingButton"
                 android:layout_width="@dimen/glyph_button_height"
                 android:layout_height="@dimen/glyph_button_height"
+                android:layout_gravity="end"
                 android:layout_marginTop="14dp"
                 android:layout_marginEnd="12dp"
-                android:layout_gravity="end"
                 android:background="?android:attr/selectableItemBackgroundBorderless"
                 android:contentDescription="@string/content_description_private_browsing_button"
-                app:srcCompat="@drawable/private_browsing_button"
                 app:layout_collapseMode="parallax"
-                app:layout_collapseParallaxMultiplier=".167"/>
+                app:layout_collapseParallaxMultiplier=".167"
+                app:srcCompat="@drawable/private_browsing_button" />
             <!-- This value needs to be 1.67 * the wordmark parallax value as its 24dp vs 40 -->
 
             <ImageView
@@ -54,9 +54,9 @@
                 android:contentDescription="@string/app_name"
                 android:focusable="false"
                 android:importantForAccessibility="no"
-                app:srcCompat="?fenixLogo"
                 app:layout_collapseMode="parallax"
-                app:layout_collapseParallaxMultiplier=".1"/>
+                app:layout_collapseParallaxMultiplier=".1"
+                app:srcCompat="?fenixLogo" />
 
         </com.google.android.material.appbar.CollapsingToolbarLayout>
 
diff --git a/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml b/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml
index be0fd11ac..7353dbd1f 100644
--- a/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml
+++ b/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml
@@ -1,8 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
-<!-- This Source Code Form is subject to the terms of the Mozilla Public
-   - License, v. 2.0. If a copy of the MPL was not distributed with this
-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
 <adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
     <background android:drawable="@color/ic_launcher_background"/>
     <foreground android:drawable="@drawable/ic_launcher_foreground"/>
-</adaptive-icon>
+</adaptive-icon>
\ No newline at end of file
diff --git a/app/src/main/res/mipmap-anydpi-v26/ic_launcher_private.xml b/app/src/main/res/mipmap-anydpi-v26/ic_launcher_private.xml
index 66196fc1d..e6e7d570e 100644
--- a/app/src/main/res/mipmap-anydpi-v26/ic_launcher_private.xml
+++ b/app/src/main/res/mipmap-anydpi-v26/ic_launcher_private.xml
@@ -1,9 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
-<!-- This Source Code Form is subject to the terms of the Mozilla Public
-   - License, v. 2.0. If a copy of the MPL was not distributed with this
-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
-
 <adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
-    <background android:drawable="@drawable/ic_launcher_private_background"/>
+    <background android:drawable="@color/ic_launcher_private_background"/>
     <foreground android:drawable="@drawable/ic_launcher_private_foreground"/>
-</adaptive-icon>
+</adaptive-icon>
\ No newline at end of file
diff --git a/app/src/main/res/mipmap-anydpi-v26/ic_launcher_private_round.xml b/app/src/main/res/mipmap-anydpi-v26/ic_launcher_private_round.xml
index 66196fc1d..e6e7d570e 100644
--- a/app/src/main/res/mipmap-anydpi-v26/ic_launcher_private_round.xml
+++ b/app/src/main/res/mipmap-anydpi-v26/ic_launcher_private_round.xml
@@ -1,9 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
-<!-- This Source Code Form is subject to the terms of the Mozilla Public
-   - License, v. 2.0. If a copy of the MPL was not distributed with this
-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
-
 <adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
-    <background android:drawable="@drawable/ic_launcher_private_background"/>
+    <background android:drawable="@color/ic_launcher_private_background"/>
     <foreground android:drawable="@drawable/ic_launcher_private_foreground"/>
-</adaptive-icon>
+</adaptive-icon>
\ No newline at end of file
diff --git a/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml b/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml
index be0fd11ac..7353dbd1f 100644
--- a/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml
+++ b/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml
@@ -1,8 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
-<!-- This Source Code Form is subject to the terms of the Mozilla Public
-   - License, v. 2.0. If a copy of the MPL was not distributed with this
-   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
 <adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
     <background android:drawable="@color/ic_launcher_background"/>
     <foreground android:drawable="@drawable/ic_launcher_foreground"/>
-</adaptive-icon>
+</adaptive-icon>
\ No newline at end of file
diff --git a/app/src/main/res/values-night/colors.xml b/app/src/main/res/values-night/colors.xml
index 15f82c3b4..38c629851 100644
--- a/app/src/main/res/values-night/colors.xml
+++ b/app/src/main/res/values-night/colors.xml
@@ -56,7 +56,7 @@
     <!-- Warning text -->
     <color name="fx_mobile_text_color_warning" tools:ignore="UnusedResources">@color/photonRed40</color>
     <!-- Small heading, Text link -->
-    <color name="fx_mobile_text_color_accent">@color/photonViolet40</color>
+    <color name="fx_mobile_text_color_accent">@color/photonWhite</color>
     <!-- Text Inverted/On Color -->
     <color name="fx_mobile_text_color_inverted" tools:ignore="UnusedResources">@color/photonWhite</color>
 
diff --git a/app/src/main/res/values/colors.xml b/app/src/main/res/values/colors.xml
index 6fd4bb383..ae0263f5b 100644
--- a/app/src/main/res/values/colors.xml
+++ b/app/src/main/res/values/colors.xml
@@ -56,7 +56,7 @@
     <!-- Warning text -->
     <color name="fx_mobile_text_color_warning" tools:ignore="UnusedResources">@color/photonRed80</color>
     <!-- Small heading, Text link -->
-    <color name="fx_mobile_text_color_accent">@color/photonViolet70</color>
+    <color name="fx_mobile_text_color_accent">@color/photonBlack</color>
     <!-- Text Inverted/On Color -->
     <color name="fx_mobile_text_color_inverted" tools:ignore="UnusedResources">@color/photonWhite</color>
 
@@ -306,10 +306,11 @@
     <color name="device_foreground">@color/photonInk80</color>
 
     <!-- Launcher Icon colors -->
-    <color name="default_launcher_background">#FDFDFD</color>
+    <color name="default_launcher_background">#00AEF0</color>
     <color name="nightly_launcher_background">#220033</color>
     <color name="debug_launcher_background">@color/photonInk20</color>
     <color name="ic_launcher_background">@color/default_launcher_background</color>
+    <color name="ic_launcher_private_background">@color/default_launcher_background</color>
 
     <!-- Button Colors -->
     <color name="grey_button_color">@color/photonLightGrey30</color>
-- 
2.34.1

