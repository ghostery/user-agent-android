From 5a5c79f5a7d03dc5f21439ba16adab32e1ac5a4d Mon Sep 17 00:00:00 2001
From: Stefano Pacifici <stefano.pacifici@gmail.com>
Date: Tue, 9 Jun 2020 10:56:17 +0200
Subject: Remove Firefox Sync

---
 .../mozilla/fenix/library/bookmarks/BookmarkFragment.kt    | 4 +---
 .../org/mozilla/fenix/settings/account/AccountUiView.kt    | 2 +-
 app/src/main/res/layout/component_tabstray2.xml            | 7 -------
 3 files changed, 2 insertions(+), 11 deletions(-)

diff --git a/app/src/main/java/org/mozilla/fenix/library/bookmarks/BookmarkFragment.kt b/app/src/main/java/org/mozilla/fenix/library/bookmarks/BookmarkFragment.kt
index c4a09deba..d6f6e1923 100644
--- a/app/src/main/java/org/mozilla/fenix/library/bookmarks/BookmarkFragment.kt
+++ b/app/src/main/java/org/mozilla/fenix/library/bookmarks/BookmarkFragment.kt
@@ -130,7 +130,6 @@ class BookmarkFragment : LibraryPageFragment<BookmarkNode>(), UserInteractionHan
 
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
         super.onViewCreated(view, savedInstanceState)
-        val accountManager = requireComponents.backgroundServices.accountManager
         consumeFrom(bookmarkStore) {
             bookmarkView.update(it)
 
@@ -138,8 +137,7 @@ class BookmarkFragment : LibraryPageFragment<BookmarkNode>(), UserInteractionHan
             // Don't want to pester user too much with it, and if there are lots of bookmarks present,
             // it'll just get visually lost. Inside of the "Desktop Bookmarks" node, it'll nicely stand-out,
             // since there are always only three other items in there. It's also the right place contextually.
-            bookmarkView.binding.bookmarkFoldersSignIn.isVisible =
-                it.tree?.guid == BookmarkRoot.Root.id && accountManager.authenticatedAccount() == null
+            bookmarkView.binding.bookmarkFoldersSignIn.isVisible = false
         }
     }
 
diff --git a/app/src/main/java/org/mozilla/fenix/settings/account/AccountUiView.kt b/app/src/main/java/org/mozilla/fenix/settings/account/AccountUiView.kt
index 94464b035..058a0de5a 100644
--- a/app/src/main/java/org/mozilla/fenix/settings/account/AccountUiView.kt
+++ b/app/src/main/java/org/mozilla/fenix/settings/account/AccountUiView.kt
@@ -88,7 +88,7 @@ class AccountUiView(
 
             // Signed-out.
         } else {
-            preferenceSignIn.isVisible = true
+            preferenceSignIn.isVisible = false
             preferenceFirefoxAccount.isVisible = false
             preferenceFirefoxAccountAuthError.isVisible = false
             accountPreferenceCategory.isVisible = false
diff --git a/app/src/main/res/layout/component_tabstray2.xml b/app/src/main/res/layout/component_tabstray2.xml
index 68e9d8251..976c3af3b 100644
--- a/app/src/main/res/layout/component_tabstray2.xml
+++ b/app/src/main/res/layout/component_tabstray2.xml
@@ -100,13 +100,6 @@
             android:contentDescription="@string/tabs_header_private_tabs_title"
             android:icon="@drawable/ic_private_browsing" />
 
-        <com.google.android.material.tabs.TabItem
-            android:layout_width="0dp"
-            android:layout_height="match_parent"
-            android:contentDescription="@string/tabs_header_synced_tabs_title"
-            android:foregroundTint="@color/photonWhite"
-            android:icon="@drawable/ic_synced_tabs" />
-
     </com.google.android.material.tabs.TabLayout>
 
     <ImageButton
-- 
2.34.1

